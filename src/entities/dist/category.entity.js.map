{"version":3,"sources":["category.entity.ts"],"names":[],"mappings":";;;;;;;;AAAA,mCAQiB;AACjB,mDAA2C;AAC3C,mDAA2C;AAC3C,2CAA6C;AAM7C;IAAA;IA4DA,CAAC;iBA5DY,QAAQ;;IAEnB;QADC,gCAAsB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;wCAC1D;IAUnB;QARC,gBAAM,CAAC;YACN,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,EAAE;SACX,CAAC;QACD,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC;kCACX;IAWb;QATC,gBAAM,CAAC;YACN,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,YAAY;YAClB,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,GAAG;SACZ,CAAC;QACD,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC;uCACP;IAQlB;QANC,gBAAM,CAAC;YACN,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,oBAAoB;YAC1B,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;SACf,CAAC;8CAC8B;IAMhC;QAJC,mBAAS,CACR,cAAM,OAAA,wBAAO,EAAP,CAAO,EACb,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,QAAQ,EAAhB,CAAgB,CAC5B;sCACmB;IAUpB;QARC,mBAAS,CACR,cAAM,OAAA,UAAQ,EAAR,CAAQ,EACd,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,UAAU,EAAnB,CAAmB,EAC/B,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,CAC/C;QACA,oBAAU,CAAC;YACV,EAAE,IAAI,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,YAAY,EAAE;SACnE,CAAC;4CACuB;IAMzB;QAJC,mBAAS,CACR,cAAM,OAAA,UAAQ,EAAR,CAAQ,EACd,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,cAAc,EAAvB,CAAuB,CACpC;wCACsB;IAMvB;QAJC,mBAAS,CACR,cAAM,OAAA,wBAAO,EAAP,CAAO,EACb,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,QAAQ,EAAhB,CAAgB,CAC5B;sCACmB;IA3DT,QAAQ;QAJpB,eAAK,CAAC,iCAAiC,EAAE,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC;QAClE,eAAK,CAAC,wBAAwB,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;QAChE,eAAK,CAAC,kBAAkB,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;QACrD,gBAAM,CAAC,UAAU,CAAC;OACN,QAAQ,CA4DpB;IAAD,eAAC;CA5DD,AA4DC,IAAA;AA5DY,4BAAQ","file":"category.entity.js","sourcesContent":["import {\n  Column,\n  Entity,\n  Index,\n  JoinColumn,\n  ManyToOne,\n  OneToMany,\n  PrimaryGeneratedColumn\n} from \"typeorm\";\nimport { Article } from \"./article.entity\";\nimport { Feature } from \"./feature.entity\";\nimport * as Validator from 'class-validator';\n\n@Index(\"fk_category_parent__category_id\", [\"parentCategoryId\"], {})\n@Index(\"uq_category_image_path\", [\"imagePath\"], { unique: true })\n@Index(\"uq_category_name\", [\"name\"], { unique: true })\n@Entity(\"category\")\nexport class Category {\n  @PrimaryGeneratedColumn({ type: \"int\", name: \"category_id\", unsigned: true })\n  categoryId: number;\n\n  @Column({\n    type: \"varchar\",\n    unique: true,\n    length: 32\n  })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(5, 32)\n  name: string;\n\n  @Column({\n    type: \"varchar\",\n    name: \"image_path\",\n    unique: true,\n    length: 128\n  })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(1, 128)\n  imagePath: string;\n\n  @Column({\n    type: \"int\",\n    name: \"parent_category_id\",\n    nullable: true,\n    unsigned: true\n  })\n  parentCategoryId: number | null;\n\n  @OneToMany(\n    () => Article,\n    article => article.category\n  )\n  articles: Article[];\n\n  @ManyToOne(\n    () => Category,\n    category => category.categories,\n    { onDelete: \"NO ACTION\", onUpdate: \"CASCADE\" }\n  )\n  @JoinColumn([\n    { name: \"parent_category_id\", referencedColumnName: \"categoryId\" }\n  ])\n  parentCategory: Category;\n\n  @OneToMany(\n    () => Category,\n    category => category.parentCategory\n  )\n  categories: Category[];\n\n  @OneToMany(\n    () => Feature,\n    feature => feature.category\n  )\n  features: Feature[];\n}\n"]}