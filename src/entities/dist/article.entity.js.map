{"version":3,"sources":["article.entity.ts"],"names":[],"mappings":";;;;;;;;AAAA,mCAUiB;AACjB,qDAA6C;AAC7C,mEAA0D;AAC1D,iDAA+C;AAC/C,6DAAoD;AACpD,+CAAuC;AACvC,qDAA4C;AAC5C,2CAA6C;AAI7C;IAAA;IA0FA,CAAC;IAxFC;QADC,gCAAsB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;sCAC1D;IAMlB;QAJC,gBAAM,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;QACxC,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC;iCACZ;IAGb;QADC,gBAAM,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;uCAC1C;IAMnB;QAJC,gBAAM,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;QACxC,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC;oCACV;IAMhB;QAJC,gBAAM,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;QACxB,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC;wCACR;IAUpB;QARC,gBAAM,CAAC;YACN,IAAI,EAAE,MAAM;YACZ,MAAI,EAAE,CAAC,WAAW,EAAE,SAAS,EAAE,QAAQ,CAAC;YACxC,SAAO,EAAE,cAAM,OAAA,aAAa,EAAb,CAAa;SAC7B,CAAC;QACD,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;mCACR;IAS3C;QAPC,gBAAM,CAAC;YACN,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,aAAa;YACnB,QAAQ,EAAE,IAAI;SACf,CAAC;QACD,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;uCACJ;IAOnB;QALC,gBAAM,CAAC;YACN,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,YAAY;YAClB,SAAO,EAAE,cAAM,OAAA,mBAAmB,EAAnB,CAAmB;SACnC,CAAC;sCACc;IAQhB;QANC,mBAAS,CACR,cAAM,OAAA,0BAAQ,EAAR,CAAQ,EACd,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,QAAQ,EAAjB,CAAiB,EAC7B,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,CAC/C;QACA,oBAAU,CAAC,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,oBAAoB,EAAE,YAAY,EAAE,CAAC,CAAC;qCACvD;IAMnB;QAJC,mBAAS,CACR,cAAM,OAAA,uCAAc,EAAd,CAAc,EACpB,UAAA,cAAc,IAAI,OAAA,cAAc,CAAC,OAAO,EAAtB,CAAsB,CACzC;4CACiC;IAQlC;QANC,oBAAU,CAAC,UAAA,IAAI,IAAI,OAAA,yBAAO,EAAP,CAAO,EAAE,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,QAAQ,EAAhB,CAAgB,CAAC;QACxD,mBAAS,CAAC;YACT,IAAI,EAAE,iBAAiB;YACvB,UAAU,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,oBAAoB,EAAE,WAAW,EAAE;YACrE,iBAAiB,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,oBAAoB,EAAE,WAAW,EAAE;SAC7E,CAAC;qCACkB;IAMpB;QAJC,mBAAS,CACR,cAAM,OAAA,4BAAY,EAAZ,CAAY,EAClB,UAAA,YAAY,IAAI,OAAA,YAAY,CAAC,OAAO,EAApB,CAAoB,CACrC;0CAC6B;IAM9B;QAJC,mBAAS,CACR,cAAM,OAAA,iCAAW,EAAX,CAAW,EACjB,UAAA,WAAW,IAAI,OAAA,WAAW,CAAC,OAAO,EAAnB,CAAmB,CACnC;yCAC2B;IAM5B;QAJC,mBAAS,CACR,cAAM,OAAA,oBAAK,EAAL,CAAK,EACX,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,OAAO,EAAb,CAAa,CACvB;mCACe;IAzFL,OAAO;QAFnB,eAAK,CAAC,wBAAwB,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC;QACnD,gBAAM,CAAC,SAAS,CAAC;OACL,OAAO,CA0FnB;IAAD,cAAC;CA1FD,AA0FC,IAAA;AA1FY,0BAAO","file":"article.entity.js","sourcesContent":["import {\n  Column,\n  Entity,\n  Index,\n  JoinColumn,\n  ManyToOne,\n  OneToMany,\n  PrimaryGeneratedColumn,\n  JoinTable,\n  ManyToMany\n} from \"typeorm\";\nimport { Category } from \"./category.entity\";\nimport { ArticleFeature } from \"./article-feuters.entity\";\nimport { ArticlePrice } from \"./article-price\";\nimport { CartArticle } from \"./cart-article.entity\";\nimport { Photo } from \"./photo.entity\";\nimport { Feature } from \"./features.entity\";\nimport * as Validator from 'class-validator';\n\n@Index(\"fk_article_category_id\", [\"categoryId\"], {})\n@Entity(\"article\")\nexport class Article {\n  @PrimaryGeneratedColumn({ type: \"int\", name: \"article_id\", unsigned: true })\n  articleId: number;\n\n  @Column({ type: \"varchar\", length: 128 })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(5, 128)\n  name: string;\n\n  @Column({ type: \"int\", name: \"category_id\", unsigned: true })\n  categoryId: number;\n\n  @Column({ type: \"varchar\", length: 255 })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(10, 255)\n  excerpt: string;\n\n  @Column({ type: \"text\" })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(64, 10000)\n  description: string;\n\n  @Column({\n    type: \"enum\",\n    enum: [\"available\", \"visible\", \"hidden\"],\n    default: () => \"'available'\"\n  })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.IsIn([\"available\", \"visible\", \"hidden\"])\n  status: \"available\" | \"visible\" | \"hidden\";\n\n  @Column({\n    type: \"tinyint\",\n    name: \"is_promoted\",\n    unsigned: true\n  })\n  @Validator.IsNotEmpty()\n  @Validator.IsIn([0, 1])\n  isPromoted: number;\n\n  @Column({\n    type: \"timestamp\",\n    name: \"created_at\",\n    default: () => \"CURRENT_TIMESTAMP\"\n  })\n  createdAt: Date;\n\n  @ManyToOne(\n    () => Category,\n    category => category.articles,\n    { onDelete: \"NO ACTION\", onUpdate: \"CASCADE\" }\n  )\n  @JoinColumn([{ name: \"category_id\", referencedColumnName: \"categoryId\" }])\n  category: Category;\n\n  @OneToMany(\n    () => ArticleFeature,\n    articleFeature => articleFeature.article\n  )\n  articleFeatures: ArticleFeature[];\n\n  @ManyToMany(type => Feature, feature => feature.articles)\n  @JoinTable({\n    name: \"article_feature\",\n    joinColumn: { name: \"article_id\", referencedColumnName: \"articleId\" },\n    inverseJoinColumn: { name: \"feature_id\", referencedColumnName: \"featureId\" }\n  })\n  features: Feature[];\n\n  @OneToMany(\n    () => ArticlePrice,\n    articlePrice => articlePrice.article\n  )\n  articlePrices: ArticlePrice[];\n\n  @OneToMany(\n    () => CartArticle,\n    cartArticle => cartArticle.article\n  )\n  cartArticles: CartArticle[];\n\n  @OneToMany(\n    () => Photo,\n    photo => photo.article\n  )\n  photos: Photo[];\n}\n"]}