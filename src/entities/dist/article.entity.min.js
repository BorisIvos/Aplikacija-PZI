"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(i=(n<3?a(i):3<n?a(t,r,i):a(t,r))||i);return 3<n&&i&&Object.defineProperty(t,r,i),i};exports.__esModule=!0;var typeorm_1=require("typeorm"),category_entity_1=require("./category.entity"),article_feuters_entity_1=require("./article-feuters.entity"),article_price_1=require("./article-price"),cart_article_entity_1=require("./cart-article.entity"),photo_entity_1=require("./photo.entity"),feature_entity_1=require("./feature.entity"),Validator=require("class-validator"),Article=function(){function e(){}return __decorate([typeorm_1.PrimaryGeneratedColumn({type:"int",name:"article_id",unsigned:!0})],e.prototype,"articleId"),__decorate([typeorm_1.Column({type:"varchar",length:128}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(5,128)],e.prototype,"name"),__decorate([typeorm_1.Column({type:"int",name:"category_id",unsigned:!0})],e.prototype,"categoryId"),__decorate([typeorm_1.Column({type:"varchar",length:255}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(10,255)],e.prototype,"excerpt"),__decorate([typeorm_1.Column({type:"text"}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(64,1e4)],e.prototype,"description"),__decorate([typeorm_1.Column({type:"enum",enum:["available","visible","hidden"],default:function(){return"'available'"}}),Validator.IsNotEmpty(),Validator.IsString(),Validator.IsIn(["available","visible","hidden"])],e.prototype,"status"),__decorate([typeorm_1.Column({type:"tinyint",name:"is_promoted",unsigned:!0}),Validator.IsNotEmpty(),Validator.IsIn([0,1])],e.prototype,"isPromoted"),__decorate([typeorm_1.Column({type:"timestamp",name:"created_at",default:function(){return"CURRENT_TIMESTAMP"}})],e.prototype,"createdAt"),__decorate([typeorm_1.ManyToOne(function(){return category_entity_1.Category},function(e){return e.articles},{onDelete:"NO ACTION",onUpdate:"CASCADE"}),typeorm_1.JoinColumn([{name:"category_id",referencedColumnName:"categoryId"}])],e.prototype,"category"),__decorate([typeorm_1.OneToMany(function(){return article_feuters_entity_1.ArticleFeature},function(e){return e.article})],e.prototype,"articleFeatures"),__decorate([typeorm_1.ManyToMany(function(e){return feature_entity_1.Feature},function(e){return e.articles}),typeorm_1.JoinTable({name:"article_feature",joinColumn:{name:"article_id",referencedColumnName:"articleId"},inverseJoinColumn:{name:"feature_id",referencedColumnName:"featureId"}})],e.prototype,"features"),__decorate([typeorm_1.OneToMany(function(){return article_price_1.ArticlePrice},function(e){return e.article})],e.prototype,"articlePrices"),__decorate([typeorm_1.OneToMany(function(){return cart_article_entity_1.CartArticle},function(e){return e.article})],e.prototype,"cartArticles"),__decorate([typeorm_1.OneToMany(function(){return photo_entity_1.Photo},function(e){return e.article})],e.prototype,"photos"),e=__decorate([typeorm_1.Index("fk_article_category_id",["categoryId"],{}),typeorm_1.Entity("article")],e)}();exports.Article=Article;
//# sourceMappingURL=article.entity.min.js.map
