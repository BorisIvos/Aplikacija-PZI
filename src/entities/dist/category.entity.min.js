"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var y=e.length-1;0<=y;y--)(a=e[y])&&(i=(n<3?a(i):3<n?a(t,r,i):a(t,r))||i);return 3<n&&i&&Object.defineProperty(t,r,i),i};exports.__esModule=!0;var typeorm_1=require("typeorm"),article_entity_1=require("./article.entity"),feature_entity_1=require("./feature.entity"),Validator=require("class-validator"),Category=function(){function e(){}var t;return t=e,__decorate([typeorm_1.PrimaryGeneratedColumn({type:"int",name:"category_id",unsigned:!0})],e.prototype,"categoryId"),__decorate([typeorm_1.Column({type:"varchar",unique:!0,length:32}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(5,32)],e.prototype,"name"),__decorate([typeorm_1.Column({type:"varchar",name:"image_path",unique:!0,length:128}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(1,128)],e.prototype,"imagePath"),__decorate([typeorm_1.Column({type:"int",name:"parent_category_id",nullable:!0,unsigned:!0})],e.prototype,"parentCategoryId"),__decorate([typeorm_1.OneToMany(function(){return article_entity_1.Article},function(e){return e.category})],e.prototype,"articles"),__decorate([typeorm_1.ManyToOne(function(){return t},function(e){return e.categories},{onDelete:"NO ACTION",onUpdate:"CASCADE"}),typeorm_1.JoinColumn([{name:"parent_category_id",referencedColumnName:"categoryId"}])],e.prototype,"parentCategory"),__decorate([typeorm_1.OneToMany(function(){return t},function(e){return e.parentCategory})],e.prototype,"categories"),__decorate([typeorm_1.OneToMany(function(){return feature_entity_1.Feature},function(e){return e.category})],e.prototype,"features"),e=t=__decorate([typeorm_1.Index("fk_category_parent__category_id",["parentCategoryId"],{}),typeorm_1.Index("uq_category_image_path",["imagePath"],{unique:!0}),typeorm_1.Index("uq_category_name",["name"],{unique:!0}),typeorm_1.Entity("category")],e)}();exports.Category=Category;
//# sourceMappingURL=category.entity.min.js.map
