"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,p=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,r,o);else for(var _=e.length-1;0<=_;_--)(a=e[_])&&(p=(n<3?a(p):3<n?a(t,r,p):a(t,r))||p);return 3<n&&p&&Object.defineProperty(t,r,p),p};exports.__esModule=!0;var typeorm_1=require("typeorm"),cart_entity_1=require("./cart.entity"),Validator=require("class-validator"),User=function(){function e(){}return __decorate([typeorm_1.PrimaryGeneratedColumn({type:"int",name:"user_id",unsigned:!0})],e.prototype,"userId"),__decorate([typeorm_1.Column({type:"varchar",unique:!0,length:255}),Validator.IsNotEmpty(),Validator.IsEmail({allow_ip_domain:!1,allow_utf8_local_part:!0,require_tld:!0})],e.prototype,"email"),__decorate([typeorm_1.Column({type:"varchar",name:"password_hash",length:128}),Validator.IsNotEmpty(),Validator.IsHash("sha512")],e.prototype,"passwordHash"),__decorate([typeorm_1.Column({type:"varchar",length:64}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(2,64)],e.prototype,"forename"),__decorate([typeorm_1.Column({type:"varchar",length:64}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(2,64)],e.prototype,"surname"),__decorate([typeorm_1.Column({type:"varchar",name:"phone_number",unique:!0,length:24}),Validator.IsNotEmpty(),Validator.IsPhoneNumber(null)],e.prototype,"phoneNumber"),__decorate([typeorm_1.Column({type:"text",name:"postal_address"}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(10,512)],e.prototype,"postalAddress"),__decorate([typeorm_1.OneToMany(function(){return cart_entity_1.Cart},function(e){return e.user})],e.prototype,"carts"),e=__decorate([typeorm_1.Index("uq_user_email",["email"],{unique:!0}),typeorm_1.Index("uq_user_phone_number",["phoneNumber"],{unique:!0}),typeorm_1.Entity("user")],e)}();exports.User=User;
//# sourceMappingURL=user.entity.min.js.map
