"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var _=e.length-1;0<=_;_--)(n=e[_])&&(i=(a<3?n(i):3<a?n(t,o,i):n(t,o))||i);return 3<a&&i&&Object.defineProperty(t,o,i),i};exports.__esModule=!0;var typeorm_1=require("typeorm"),article_entity_1=require("./article.entity"),Validator=require("class-validator"),Photo=function(){function e(){}return __decorate([typeorm_1.PrimaryGeneratedColumn({type:"int",name:"photo_id",unsigned:!0})],e.prototype,"photoId"),__decorate([typeorm_1.Column({type:"int",name:"article_id",unsigned:!0})],e.prototype,"articleId"),__decorate([typeorm_1.Column({type:"varchar",name:"image_path",unique:!0,length:128}),Validator.IsNotEmpty(),Validator.IsString(),Validator.Length(1,128)],e.prototype,"imagePath"),__decorate([typeorm_1.ManyToOne(function(){return article_entity_1.Article},function(e){return e.photos},{onDelete:"NO ACTION",onUpdate:"CASCADE"}),typeorm_1.JoinColumn([{name:"article_id",referencedColumnName:"articleId"}])],e.prototype,"article"),e=__decorate([typeorm_1.Index("fk_photo_article_id",["articleId"],{}),typeorm_1.Index("uq_photo_image_path",["imagePath"],{unique:!0}),typeorm_1.Entity("photo")],e)}();exports.Photo=Photo;
//# sourceMappingURL=photo.entity.min.js.map
