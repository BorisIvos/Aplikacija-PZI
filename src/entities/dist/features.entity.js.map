{"version":3,"sources":["features.entity.ts"],"names":[],"mappings":";;;;;;;;AAAA,mCAUiB;AACjB,mEAA0D;AAC1D,qDAA6C;AAC7C,mDAA2C;AAC3C,2CAA6C;AAK7C;IAAA;IAkCA,CAAC;IAhCC;QADC,gCAAsB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;sCAC1D;IAMlB;QAJC,gBAAM,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;QACvC,SAAS,CAAC,UAAU,EAAE;QACtB,SAAS,CAAC,QAAQ,EAAE;QACpB,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC;iCACX;IAGb;QADC,gBAAM,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;uCAC1C;IAMnB;QAJC,mBAAS,CACR,cAAM,OAAA,uCAAc,EAAd,CAAc,EACpB,UAAA,cAAc,IAAI,OAAA,cAAc,CAAC,OAAO,EAAtB,CAAsB,CACzC;4CACiC;IAQlC;QANC,oBAAU,CAAC,UAAA,IAAI,IAAI,OAAA,wBAAO,EAAP,CAAO,EAAE,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,QAAQ,EAAhB,CAAgB,CAAC;QACxD,mBAAS,CAAC;YACT,IAAI,EAAE,iBAAiB;YACvB,UAAU,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,oBAAoB,EAAE,WAAW,EAAE;YACrE,iBAAiB,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,oBAAoB,EAAE,WAAW,EAAE;SAC7E,CAAC;qCACkB;IAQpB;QANC,mBAAS,CACR,cAAM,OAAA,0BAAQ,EAAR,CAAQ,EACd,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,QAAQ,EAAjB,CAAiB,EAC7B,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,CAC/C;QACA,oBAAU,CAAC,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,oBAAoB,EAAE,YAAY,EAAE,CAAC,CAAC;qCACvD;IAjCR,OAAO;QAHnB,eAAK,CAAC,wBAAwB,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC;QACnD,eAAK,CAAC,6BAA6B,EAAE,CAAC,MAAM,EAAE,YAAY,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;QAC9E,gBAAM,CAAC,SAAS,CAAC;OACL,OAAO,CAkCnB;IAAD,cAAC;CAlCD,AAkCC,IAAA;AAlCY,0BAAO","file":"features.entity.js","sourcesContent":["import {\n  Column,\n  Entity,\n  Index,\n  JoinColumn,\n  ManyToOne,\n  OneToMany,\n  PrimaryGeneratedColumn,\n  ManyToMany,\n  JoinTable\n} from \"typeorm\";\nimport { ArticleFeature } from \"./article-feuters.entity\";\nimport { Category } from \"./category.entity\";\nimport { Article } from \"./article.entity\";\nimport * as Validator from 'class-validator';\n\n@Index(\"fk_feature_category_id\", [\"categoryId\"], {})\n@Index(\"uq_feature_name_category_id\", [\"name\", \"categoryId\"], { unique: true })\n@Entity(\"feature\")\nexport class Feature {\n  @PrimaryGeneratedColumn({ type: \"int\", name: \"feature_id\", unsigned: true })\n  featureId: number;\n\n  @Column({ type: \"varchar\", length: 32 })\n  @Validator.IsNotEmpty()\n  @Validator.IsString()\n  @Validator.Length(3, 32)\n  name: string;\n\n  @Column({ type: \"int\", name: \"category_id\", unsigned: true })\n  categoryId: number;\n\n  @OneToMany(\n    () => ArticleFeature,\n    articleFeature => articleFeature.feature\n  )\n  articleFeatures: ArticleFeature[];\n\n  @ManyToMany(type => Article, article => article.features)\n  @JoinTable({\n    name: \"article_feature\",\n    joinColumn: { name: \"feature_id\", referencedColumnName: \"featureId\" },\n    inverseJoinColumn: { name: \"article_id\", referencedColumnName: \"articleId\" }\n  })\n  articles: Article[];\n\n  @ManyToOne(\n    () => Category,\n    category => category.features,\n    { onDelete: \"NO ACTION\", onUpdate: \"CASCADE\" }\n  )\n  @JoinColumn([{ name: \"category_id\", referencedColumnName: \"categoryId\" }])\n  category: Category;\n}\n"]}